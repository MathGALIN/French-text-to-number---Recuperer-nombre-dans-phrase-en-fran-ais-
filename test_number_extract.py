from number_extract import *

def run_tests():
    test_cases = {
        "aucun": "0%",
        "rien": "0%",
        "presque rien": "5%",
        "presque aucun": "5%",
        "totalite": "100%",
        "quasi totalite": "95%",
        "quasiment tout": "95%",
        "tout": "100%",
        "quasiment tous": "95%",
        "quasi tous": "95%",
        "tous": "100%",
        "zero": "0",
        "un": "1",
        "deux": "2",
        "trois": "3",
        "quatre": "4",
        "cinq": "5",
        "six": "6",
        "sept": "7",
        "huit": "8",
        "neuf": "9",
        "dix": "10",
        "onze": "11",
        "douze": "12",
        "treize": "13",
        "quatorze": "14",
        "quinze": "15",
        "seize": "16",
        "dix-sept": "17",
        "dix-huit": "18",
        "dix-neuf": "19",
        "vingt": "20",
        "vingt et un": "21",
        "trente": "30",
        "trente quatre": "34",
        "quarante": "40",
        "cinquante": "50",
        "soixante": "60",
        "soixante dix": "70",
        "septante": "70",
        "quatre vingt": "80",
        "huitante": "80",
        "quatre vingt dix": "90",
        "nonante": "90",
        "cent": "100",
        "mille": "1000",
        "million": "1000000",
        "milliard": "1000000000",
        "billion": "1000000000000",
        "vingt deux": "22",
        "trente et un": "31",
        "quarante cinq": "45",
        "cinquante neuf": "59",
        "soixante et onze": "71",
        "soixante douze": "72",
        "soixante treize": "73",
        "soixante quatorze": "74",
        "soixante quinze": "75",
        "soixante seize": "76",
        "quatre vingt un": "81",
        "quatre vingt onze": "91",
        "quatre vingt dix-neuf": "99",
        "cent vingt": "120",
        "cent vingt trois": "123",
        "cent quarante huit": "148",
        "cent quarante-quatre mille": "144000",
        "deux cent": "200",
        "deux cents": "200",
        "trois cent quarante cinq": "345",
        "cinq cent soixante sept": "567",
        "sept cent soixante quinze": "775",
        "mille deux cent trente quatre": "1234",
        "mille neuf cent quatre vingt quatre": "1984",
        "deux mille vingt trois": "2023",
        "dix mille": "10000",
        "cent millions": "100000000",
        "deux millions cinq cent mille": "2500000",
        "un million deux cent cinquante mille": "1250000",
        "un milliard deux cent millions trois mille quatre cent cinquante six": "1200003456",
        "cinq milliards": "5000000000",
        "cinq cent cinquante cinq mille cinq cent cinquante cinq": "555555",
        "vingt-et-un": "21",
        "quatre-vingt-un": "81",
        "soixante-dix-neuf": "79",
        "deux-mille-douze": "2012",
        "dix-huit cent": "1800",
        "un demi": "50%",
        "la moitié": "50%",
        "moitié": "50%",
        "1/2": "50%",
        "un sur deux": "50%",
        "50 sur 100": "50%",
        "un quart": "25%",
        "1/4": "25%",
        "un sur quatre": "25%",
        "deux quart": "50%",
        "deux quarts": "50%",
        "trois quart": "75%",
        "trois quarts": "75%",
        "3/4": "75%",
        "quatre quarts": "100%",
        "un tiers": "33%",
        "1/3": "33%",
        "deux tiers": "67%",
        "2/3": "67%",
        "trois tiers": "100%",
        "3/3": "100%",
        "un cinquième": "20%",
        "1/5": "20%",
        "deux cinquièmes": "40%",
        "2/5": "40%",
        "trois cinquièmes": "60%",
        "3/5": "60%",
        "quatre cinquièmes": "80%",
        "4/5": "80%",
        "cinq cinquièmes": "100%",
        "5/5": "100%",
        "un sixième": "17%",
        "1/6": "17%",
        "un septième": "14%",
        "1/7": "14%",
        "un huitième": "12%",
        "1/8": "12%",
        "quatre cinquième": "80%",
        "4/6": "67%",
        "un neuvième": "11%",
        "1/9": "11%",
        "un dixième": "10%",
        "1/10": "10%",
        "neuf dixièmes": "90%",
        "9/10": "90%",
        "trois huitièmes": "38%",
        "5/8": "62%",
        "sept dixièmes": "70%",
        "7/10": "70%",
        "j'en ai bu les trois quarts": "75%",
        "environ un quart": "25%",
        "presque la moitié": "50%",
        "plus de la moitié": "50%",
        "une douzaine": "12",
        "quatre douzaine": "48",
        "90%": "90%",
        "0.5%": "0%",
        "99.9%": "99%",
        "25.5%": "25%",
        "10.3%": "10%",
        "7.8%": "7%",
        "cent pourcent": "100%",
        "le total est de cent pourcent": "100%",
        "quarante deux pourcent": "42%",
        "cinquante-huit %": "58%",
        "trois cent quatre vingt douze %": "392%",
        "0.75": "0",
        "12.34": "12",
        "99.6": "99",
        "3.14": "3",
        "10.9": "10",
        "le nombre est douze": "12",
        "il y a deux pommes": "2",
        "cinq euros": "5",
        "vingt minutes": "20",
        "trois cent grammes": "300",
        "huit heures": "8",
        "quarante deux ans": "42",
        "deux cent soixante quatorze": "274",
        "il y en a vingt et un": "21",
        "il y en a deux cent soixante trois": "263",
        "mille deux cent soixante trois": "1263",
        "Il y a dix mille deux cent soixante huit humains": "10268",
        "trente sept": "37",
        "quatre vingt dix huit": "98",
        "quatre vingt treize" : "93",
        "quatre vingt huit" : "88",
        "soixante quinze" : "75",
        "je veut la moitie du lait": "50%",
        "nous avons vingt deux ans": "22",
        "il reste trois quart du temps": "75%",
        "cela coute cinquante euros": "50",
        "il y a sept cent cinquante et un habitants": "751",
        "environ trois cents personnes": "300",
        "plus de mille": "1001",
        "moins de cinquante": "49",
        "autour de vingt": "20",
        "un nombre incroyable de millions": "1000000",
        "nonante deux" : "92",
        "octante et un" : "81",
        "septante quatre" : "74",
        "trois quatrième" : "75%",
        "douzaine de chien" : "12",
        "trois douzaine" : "36",
        "cent sur 300" : "33%",
        "85 / 100" : "85%",
        "93 %" : "93%",
        "soixante pour cent" : "60%",
        "trois vingtaines" : "60",
        "trois centaines" : "300",
        "cinq dizaines" : "50",
        "trois vingtaine" : "60",
        "six vingtaines" : "120",
        "trois milles": "3000",
        "quatre millions": "4000000",
        "les quatre cents coups": "400",
        "des milliers d'euros": "1000",
        "plusieurs millions de personnes": "1000000",
        "un milliard de fois": "1000000000",
        "centaines de fois": "100",
        "millions d'etoiles": "1000000",
        "trois millions deux cents milles quatre cent quatre vingt dix huit": "3200498",
        "12": "12",
        "14798434343": "14798434343",
        "il y en a 4123": "4123",
        "zéro": "0",
        "un seul": "1",
        "deux fois": "2",
        "trois fois": "3",
        "vingt-et-deux": "22",
        "quatre-vingt-dix-neuf": "99",
        "cent un": "101",
        "deux cent un": "201",
        "mille deux": "1002",
        "mille et un": "1001",
        "dix mille cent": "10100",
        "cent mille": "100000",
        "un million et un": "1000001",
        "deux millions trois cent mille": "2300000",
        "trois milliards deux cent millions": "3200000000",
        "quatre vingt quinze": "95",
        "quatre vingt quinze pour cent": "95%",
        "vingt pour cent": "20%",
        "cent pour cent": "100%",
        "un tiers environ": "33%",
        "plusieurs centaines": "100",
        "quelques milliers": "1000",
        "plusieurs milliers": "1000",
        "dizaine de personnes": "10",
        "douzaine de pommes": "12",
        "vingtaine d'euros": "20",
        "centaine de kilomètres": "100",
        "millier de visiteurs": "1000",
        "millions d'euros": "1000000",
        "milliards de données": "1000000000",
        "dix-sept mille trois cent soixante cinq": "17365",
        "quarante deux mille cinq cent soixante dix neuf": "42579",
        "cent vingt-trois mille quatre cent cinquante six": "123456",
        "deux cent cinquante mille": "250000",
        "trois cent mille": "300000",
        "quatre cent mille": "400000",
        "cinq cent mille": "500000",
        "six cent mille": "600000",
        "sept cent mille": "700000",
        "huit cent mille": "800000",
        "neuf cent mille": "900000",
        "un million cinq cent mille": "1500000",
        "deux millions trois cent quarante cinq mille six cent soixante sept": "2345667",
        "quatre milliards cinq cent millions": "4500000000",
        "zéro zéro": "0",
        "un et un": "2",
        "deux et deux": "4",
        "dix et vingt": "30",
        "vingt et trente": "50",
        "soixante et dix": "70",
        "cent un": "101",
        "cent un mille": "101000",
        "deux cent un": "201",
        "trois mille cent": "3100",
        "quatre mille cinq cent": "4500",
        "cinq mille cent vingt trois": "5123",
        "sept mille huit cent soixante dix": "7870",
        "dix mille deux cent trente quatre": "10234",
        "vingt mille cent": "20100",
        "cent mille": "100000",
        "deux cent mille": "200000",
        "trois cent mille": "300000",
        "quatre cent mille": "400000",
        "cinq cent mille": "500000",
        "un million deux cent mille": "1200000",
        "deux millions trois cent mille": "2300000",
        "trois millions quatre cent mille": "3400000",
        "dix millions": "10000000",
        "vingt millions": "20000000",
        "cinquante millions": "50000000",
        "cent millions deux cent mille": "100200000",
        "deux cent millions cinq cent mille": "200500000",
        "un milliard": "1000000000",
        "deux milliards": "2000000000",
        "trois milliards quatre cent millions": "3400000000",
        "un billion": "1000000000000",
        "deux billions": "2000000000000",
        "trente millions cent mille": "30100000",
        "quarante mille cent": "40100",
        "soixante et onze mille": "71000",
        "cent un millions": "101000000",
        "quatre-vingt dix mille": "90000",
        "trente-et-un mille": "31000",
        "mille vingt et un": "1021",
        "deux mille vingt et un": "2021",
        "cinq mille cent un": "5101",
        "un million un": "1000001",
        "un million cent": "1000100",
        "deux millions un": "2000001",
        "trois millions deux cent un": "3000201",
        "trois millions deux cent milles deux cent quatre vingt dix huit": "3200298",
        "quarante-deux mille cinq cent": "42500",
        "soixante quinze mille trois cent": "75300",
        "dix mille cent": "10100",
        "trente-cinq mille quatre cent": "35400",
        "vingt-deux mille cent": "22100",
        "quatre mille cent vingt trois": "4123",
        "mille cent vingt trois": "1123",
        "deux mille deux cent vingt deux": "2222",
        "trois mille trois cent trente trois": "3333",
        "quatre mille quatre cent quarante quatre": "4444",
        "cinq mille cinq cent cinquante cinq": "5555",
        "six mille six cent soixante six": "6666",
        "sept mille sept cent soixante six": "7766",
        "huit mille huit cent quatre vingt huit": "8888",
        "neuf mille neuf cent quatre vingt neuf": "9989",
        "trois mille": "3000",
        "mille cent": "1100",
        "deux cents mille": "200000",
        "trois cents mille": "300000",
        "quatre cents mille": "400000",
        "cinq cents mille": "500000",
        "sept cents mille": "700000",
        "neuf cents mille": "900000",
        "un milliard cent millions": "1100000000",
        "deux milliards cinq cents millions": "2500000000",
        "trois milliards huit cents millions": "3800000000",
        "un billion deux cents milliards": "1200000000000",
        "deux billions cinq cents milliards": "2500000000000",
        "cent un mille cent": "101100",
        "deux cent mille trois cents": "200300",
        "trois cent mille quatre cents": "300400",
        "quatre cent mille cinq cents": "400500",
        "cinq cent mille six cents": "500600",
        "soixante-dix mille deux cents": "70200",
        "quatre-vingt mille trois cents": "80300",
        "quatre-vingt-dix mille quatre cents": "90400",
        "trente mille cinq cents": "30500",
        "quarante mille six cents": "40600",
        "cinquante mille sept cents": "50700",
        "soixante mille huit cents": "60800",
        "soixante-dix mille neuf cents": "70900",
        "quatre-vingt-dix mille cent": "90100",
        "quatre-vingt-dix mille cent pour cent": "90100%",
        "je veut rien" : "0%",
        "je veut zero de ces trucs" : "0",
        "je veut dix pourcent des pommes" : "10%",
        "cree moi deux dizaines de cube" : "20",
        "j en veut trois trentaines" : "90",
        "trois vingtièmes" : "15%",
        "j en veut quatres cinquiemes" : "80%",
        "j ai cent quatorze de qi" : "114",
        "deux cent mille pourcent" : "200000%"

    }

    print("--- Résultats des Tests ---")
    failed = 0
    total = 0
    for phrase, expected in test_cases.items():
        result = text_to_understanding(phrase)
        if result != expected:
            print(f"❌ '{phrase}' → {result} (attendu: {expected})")
            failed += 1
        total += 1
    print("Accuracy de : ", str(total-failed),"/", str(total) )

# Lancer les tests
if __name__ == "__main__":
    run_tests()
